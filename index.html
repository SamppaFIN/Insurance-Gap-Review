<!doctype html>
<html lang="fi">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>VakuutusAukot – Kevyt versio (Vanilla JS)</title>
    <style>
      :root { 
        /* Muse palette – colorful and fresh */
        --primary:#5856d6; /* indigo */
        --secondary:#ff7a59; /* coral (accents only) */
        --tertiary:#2ec5b6; /* mint (accents only) */
        --accent:#ffbf3f; /* mango (subtle accent) */
        --bg:#f2f5ff;
        --card:#f7f9ff; 
        --cardTint: rgba(88,86,214,.06);
        --border:#d7dbef; 
        --text:#151a2d; 
        --muted:#616a7f; 
      }
      body { 
        margin:0; 
        font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, 'Helvetica Neue', Arial; 
        color:var(--text); 
        background:
          radial-gradient(900px 600px at 15% -10%, rgba(88,86,214,.16), transparent),
          radial-gradient(800px 520px at 110% 0%, rgba(255,122,89,.12), transparent),
          radial-gradient(700px 520px at 40% 120%, rgba(46,197,182,.12), transparent),
          conic-gradient(from 210deg at 70% -20%, #eef3ff, #f5faff, #eef3ff);
      }
      .container { max-width: 1120px; margin: 0 auto; padding: 24px; }
      h1 { margin: 0 0 8px; color: var(--text); letter-spacing:.2px; }
      p.muted { color:var(--muted); margin-top:0; }
      .card { background: linear-gradient(180deg, var(--card), #ffffff 80%); background: linear-gradient(180deg, var(--card), color-mix(in srgb, var(--card) 80%, #fff)); border:1px solid var(--border); border-radius:16px; padding:20px; position:relative; overflow:hidden; transition: transform .2s ease, box-shadow .2s ease, border-color .2s ease; box-shadow: inset 0 0 0 9999px var(--cardTint); will-change: transform; }
      .card:hover { transform: translateY(-2px); box-shadow: 0 10px 22px rgba(0,0,0,.06); border-color: #c5cbd6; }
      .grid { display:grid; grid-template-columns: 1fr; gap:16px; align-items:start; }
      @media (min-width: 720px){ .grid{ grid-template-columns: 1fr 1fr; } }
      label { display:block; color:var(--text); margin:10px 0 6px; font-weight:600; }
      input, select, textarea { width:100%; padding:12px 12px; border-radius:10px; border:1px solid var(--border); background:#f9fafb; color:var(--text); box-shadow: inset 0 1px 0 rgba(255,255,255,.6); }
      input:hover, select:hover, textarea:hover { border-color:#bcc3cf; }
      input:focus, select:focus, textarea:focus { outline:2px solid rgba(46,92,184,.25); border-color: var(--primary); background:#ffffff; }
      /* File input custom */
      input[type="file"] { padding:0; background:#f9fafb; }
      input[type="file"]::-webkit-file-upload-button { 
        background: var(--primary); color:white; border:none; border-radius:10px; padding:10px 14px; margin-right:10px; cursor:pointer; 
      }
      input[type="file"]::file-selector-button { 
        background: var(--primary); color:white; border:none; border-radius:10px; padding:10px 14px; margin-right:10px; cursor:pointer; 
      }
      /* Date picker indicator */
      input[type="date"]::-webkit-calendar-picker-indicator { filter: invert(26%) sepia(50%) saturate(438%) hue-rotate(184deg) brightness(92%) contrast(90%); cursor:pointer; }
      input[type="date"] { background:#f9fafb url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="%232e5cb8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>') no-repeat right 12px center; background-size:18px; padding-right:44px; }
      .row { display:grid; grid-template-columns: 1fr 1fr; gap:12px; }
      .actions { display:flex; gap:10px; justify-content:flex-end; margin-top:14px; }
      button { 
        background: linear-gradient(135deg, color-mix(in srgb, var(--primary) 92%, #fff), color-mix(in srgb, var(--primary) 84%, #fff)); 
        color:white; border:none; border-radius:12px; padding:12px 16px; font-weight:700; cursor:pointer; 
        box-shadow: 0 6px 16px rgba(88,86,214,.20), 0 2px 0 rgba(0,0,0,.03) inset; 
        transition: transform .15s ease, box-shadow .15s ease, filter .15s ease; will-change: transform; 
      }
      button:hover { transform: translateY(-2px); box-shadow: 0 10px 22px rgba(88,86,214,.28); filter: brightness(1.02); }
      button:active { transform: translateY(0); box-shadow: 0 6px 16px rgba(74,158,255,.25); }
      button.secondary { background:linear-gradient(135deg, #eef2ff, #f4f8ff); color:var(--primary); border:1px solid var(--border); box-shadow:none; }
      .magnetic { perspective: 800px; }
      .magnetic > * { will-change: transform; }
      .list { display:grid; gap:12px; margin-top:14px; }
      .policy { background:linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.005)); border:1px solid var(--border); border-radius:14px; padding:14px; display:flex; flex-direction:column; gap:8px; transition:transform .15s ease, border-color .15s ease; }
      .policy:hover { transform: translateY(-1px); border-color: rgba(74,158,255,.45); }
      .policy .meta { display:flex; gap:10px; flex-wrap:wrap; color:#47506b; font-size:14px; }
      .tag { padding:2px 8px; border-radius:999px; border:1px solid var(--border); color:#47506b; background:linear-gradient(135deg,#f4f6ff,#f7fbff); }
      .file { color:#2a3350; font-size:14px; }
      .empty { text-align:center; color:#616a7f; padding:20px; border:1px dashed var(--border); border-radius:12px; }

      /* Bionic reading effect */
      .bionic * { font-variant-ligatures: none; }
      .bionic .content,
      .bionic .policy,
      .bionic .file,
      .bionic p,
      .bionic li,
      .bionic span { --w: 600; }
      .bionic span.br { font-weight: 700; }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>VakuutusAukot – Kevyt</h1>
      <p class="muted">Kevyt selainversio: analysoi vakuutusasiakirjat paikallisesti ja vertaa kattavuuksiin.</p>

      <div class="grid">
        <div class="card magnetic">
          <h2 style="margin:0 0 8px">Lisää vakuutus</h2>
          <label for="file">Asiakirja (.txt tai .pdf)</label>
          <input id="file" type="file" accept=".txt,.pdf,application/pdf" />

          <label for="type">Vakuutustyyppi</label>
          <select id="type">
            <option value="terveys">Terveys</option>
            <option value="henki">Henki</option>
            <option value="tyokyvyttomyys">Työkyvyttömyys</option>
            <option value="tyottomyys">Työttömyys</option>
            <option value="koti">Koti</option>
            <option value="auto">Auto</option>
            <option value="matka">Matka</option>
          </select>

          <label for="company">Vakuutusyhtiö</label>
          <input id="company" placeholder="Esim. If, Pohjola, Fennia" />

          <div class="row">
            <div>
              <label for="start">Aloituspvm</label>
              <input id="start" type="date" />
            </div>
            <div>
              <label for="end">Päättymispvm</label>
              <input id="end" type="date" />
            </div>
          </div>

          <label for="premium">Kuukausimaksu (€)</label>
          <input id="premium" type="number" step="0.01" />

          <div class="actions">
            <button id="addBtn">Lisää</button>
            <button class="secondary" id="clearBtn">Tyhjennä</button>
          </div>
        </div>

        <div class="card magnetic">
          <h2 style="margin:0 8px 8px 0; display:flex; align-items:center; justify-content:space-between; gap:8px">
            <span>Vakuutukseni</span>
            <div style="display:flex; gap:8px; align-items:center">
              <label style="display:flex; gap:6px; align-items:center; color:var(--muted); font-weight:600">
                <input id="bionicToggle" type="checkbox" checked style="accent-color: var(--primary)">
                Bionic reading
              </label>
              <button id="analyzeAll" class="secondary magnetic">Analysoi kaikki</button>
            </div>
          </h2>
          <div id="list" class="list">
            <div class="empty">Ei vakuutuksia vielä</div>
          </div>
        </div>
      </div>

      <div class="card magnetic" style="margin-top:16px">
        <h2 style="margin:0 0 8px">Perusterveydenhuollon vertailu (STM)</h2>
        <p class="muted" style="margin:0 0 10px">Alla tunnistetut kohdat asiakirjoistasi verrattuna Suomen perusterveydenhuollon vastuisiin (<a href="https://stm.fi/sotepalvelut/jarjestelma-vastuut" target="_blank" style="color:var(--primary)">stm.fi</a>).</p>
        <div class="grid">
          <div>
            <h3 style="margin:6px 0">Tunnistetut kattavuudet</h3>
            <div id="covered" class="list"></div>
          </div>
          <div>
            <h3 style="margin:6px 0">Mahdolliset aukot</h3>
            <div id="gaps" class="list"></div>
          </div>
        </div>
      </div>

      <div class="card magnetic" style="margin-top:16px">
        <h2 style="margin:0 0 8px">Kotivakuutuksen vertailu</h2>
        <p class="muted" style="margin:0 0 10px">Alla tunnistetut kohdat asiakirjoistasi verrattuna kotivakuutuksen tyypilliseen kattavuuteen.</p>
        <div class="grid">
          <div>
            <h3 style="margin:6px 0">Tunnistetut kattavuudet</h3>
            <div id="home-covered" class="list"></div>
          </div>
          <div>
            <h3 style="margin:6px 0">Mahdolliset aukot</h3>
            <div id="home-gaps" class="list"></div>
          </div>
        </div>
      </div>
    </div>

    <!-- PDF.js for client-side PDF text extraction -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <script>
      if (window['pdfjsLib']) {
        pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';
      }
    </script>
    <script src="./app.js"></script>
  </body>
  </html>


